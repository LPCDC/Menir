name: Gatomia Dashboard

on:
  push:
    branches:
      - main
  workflow_dispatch:

jobs:
  build-dashboard:
    runs-on: ubuntu-latest

    env:
      NEO4J_URI: ${{ secrets.NEO4J_URI }}
      NEO4J_USER: ${{ secrets.NEO4J_USER }}
      NEO4J_PASSWORD: ${{ secrets.NEO4J_PASSWORD }}
      COMMIT_ID: ${{ github.sha }}
      COMMIT_MSG: ${{ github.event.head_commit.message }}
      AUTHOR: ${{ github.event.pusher.name }}

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Setup dependencies
        run: |
          echo "Configurando ambiente do dashboard..."

      - name: Generate Dashboard
        run: |
          echo "Buscando dados em Neo4j com as variáveis definidas..."
          echo "NEO4J_URI = $NEO4J_URI"
          # Coloque aqui seus comandos reais para gerar o dashboard

      # Outros steps que você precisa podem vir aqui (ex: salvar relatório, push de artefatos, etc.)
