////////////////////////////////////////////////////////////////////////
// Gatomia Bootstrap Check — Status consolidado dos Projetos
// Executa sempre que o gatilho "Gatomia" é chamado
////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////
// 1. Status Projeto Itaú
////////////////////////////////////////////////////////////////////////
MATCH (t:Transacao)
WITH count(t) AS total_trans
MATCH (d:Documento)
WITH total_trans, count(d) AS total_docs
MATCH (p:Parte)
RETURN
  'Projeto Itau' AS projeto,
  total_trans    AS transacoes,
  total_docs     AS documentos,
  count(p)       AS partes

UNION ALL

////////////////////////////////////////////////////////////////////////
// 2. Status Projeto Guarani
////////////////////////////////////////////////////////////////////////
MATCH (g:Guarani)
RETURN
  'Projeto Guarani' AS projeto,
  count(g)          AS registros,
  null              AS extra1,
  null              AS extra2

UNION ALL

////////////////////////////////////////////////////////////////////////
// 3. Status Projeto Renderizador
////////////////////////////////////////////////////////////////////////
MATCH (r:Render)
RETURN
  'Projeto Renderizador' AS projeto,
  count(r)               AS cenas,
  null                   AS extra1,
  null                   AS extra2

UNION ALL

////////////////////////////////////////////////////////////////////////
// 4. Status Core (Nodes genéricos)
////////////////////////////////////////////////////////////////////////
MATCH (n)
RETURN
  'Core' AS projeto,
  count(n) AS total_nodes,
  null     AS extra1,
  null     AS extra2;
